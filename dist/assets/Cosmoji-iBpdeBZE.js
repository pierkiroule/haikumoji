import{r as d,j as e,m as i,c as y,d as N,o as k,p as w}from"./index-CAUJtdal.js";import{P as v}from"./PantheonModal-BGcW5x8c.js";import{S as M,E as S}from"./SelectionPanel-DaHNWmxy.js";import{u as h}from"./use-reduced-motion-C7Xhs1Jv.js";import"./index-ruGAW7xs.js";function C({size:o=28,className:c=""}){const t=o,l=Math.max(2,Math.round(o/14)),s=d.useMemo(()=>({root:{width:t,height:t},ring:{borderWidth:l},dot:{fontSize:Math.round(t*.42),left:Math.round(t*.32),top:Math.round(t*.3)},degree:{fontSize:Math.round(t*.36),left:Math.round(t*.58),top:Math.round(t*.08)},sparkle1:{right:-Math.round(t*.14),top:Math.round(t*.35)},sparkle2:{right:-Math.round(t*.28),top:-Math.round(t*.06)},sparkle3:{right:-Math.round(t*.04),bottom:-Math.round(t*.02)}}),[t,l]);return e.jsxs("span",{className:`relative inline-block align-middle cosmoji-emblem ${c}`,style:s.root,"aria-hidden":"true",children:[e.jsx("style",{children:`
        .cosmoji-emblem .cosmoji-ring { 
          position: absolute; inset: 0; border-radius: 9999px; 
          border-style: solid; border-color: rgba(2, 6, 23, 0.2); /* slate-950/20 on white */
          box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.06) inset;
          background: radial-gradient(closest-side, rgba(2,6,23,0.02), transparent);
        }
        .dark .cosmoji-emblem .cosmoji-ring {
          border-color: rgba(255,255,255,0.25);
          box-shadow: 0 0 0 1px rgba(255,255,255,0.06) inset;
          background: radial-gradient(closest-side, rgba(255,255,255,0.04), transparent);
        }
        .cosmoji-emblem .glyph { position: absolute; line-height: 1; color: #0f172a; opacity: 0.9; }
        .dark .cosmoji-emblem .glyph { color: #e2e8f0; }

        .cosmoji-emblem .sparkle { 
          position: absolute; color: #0891b2; /* cyan-700 */
          filter: drop-shadow(0 0 2px rgba(34,211,238,0.6));
          animation: cosmoji-sparkle 2.4s ease-in-out infinite;
          transform-origin: left center;
          font-size: ${Math.max(10,Math.round(t*.34))}px;
          opacity: 0;
        }
        .cosmoji-emblem .sparkle:nth-of-type(1) { animation-delay: 0s; }
        .cosmoji-emblem .sparkle:nth-of-type(2) { animation-delay: 0.6s; color: #06b6d4; }
        .cosmoji-emblem .sparkle:nth-of-type(3) { animation-delay: 1.2s; color: #22d3ee; }

        @keyframes cosmoji-sparkle {
          0%   { transform: translateX(0px) scale(0.6) rotate(0deg); opacity: 0; }
          10%  { opacity: 0.9; }
          45%  { transform: translateX(${Math.round(t*.38)}px) scale(1) rotate(12deg); opacity: 0.85; }
          70%  { opacity: 0.3; }
          100% { transform: translateX(${Math.round(t*.7)}px) scale(0.9) rotate(22deg); opacity: 0; }
        }
        @media (prefers-reduced-motion: reduce) {
          .cosmoji-emblem .sparkle { animation: none; opacity: 0.25; }
        }
      `}),e.jsx("span",{className:"cosmoji-ring",style:s.ring}),e.jsx("span",{className:"glyph",style:s.dot,children:"‚Ä¢"}),e.jsx("span",{className:"glyph",style:s.degree,children:"¬∞"}),e.jsx("span",{className:"sparkle",style:s.sparkle1,children:"‚ú¶"}),e.jsx("span",{className:"sparkle",style:s.sparkle2,children:"‚ú¶"}),e.jsx("span",{className:"sparkle",style:s.sparkle3,children:"‚ú¶"})]})}function T({active:o=!1,height:c=240,opacity:t=.6}){const l=h(),s=l?{duration:0}:{duration:12,repeat:1/0,ease:"easeInOut",repeatType:"mirror"};return e.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 -z-10 overflow-hidden",style:{height:c},"aria-hidden":!0,children:e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:o?t:0},transition:{duration:l?0:.6,ease:"easeOut"},className:"absolute inset-0",children:[e.jsx(i.span,{className:"absolute -inset-x-10 -top-10 h-[200%] mix-blend-screen",style:{background:"linear-gradient(120deg, rgba(52,211,153,0.55), rgba(45,212,191,0.35) 40%, rgba(59,130,246,0.30) 70%, rgba(167,139,250,0.25))",filter:"blur(48px)"},initial:!1,animate:l?{x:0}:{x:[-40,40,-40]},transition:{...s,duration:16}}),e.jsx(i.span,{className:"absolute -inset-x-20 top-0 h-[180%] mix-blend-screen",style:{background:"linear-gradient(100deg, rgba(56,189,248,0.42), rgba(99,102,241,0.28))",filter:"blur(56px)"},initial:!1,animate:l?{x:0}:{x:[30,-30,30]},transition:{...s,duration:20}}),e.jsx(i.span,{className:"absolute -inset-x-24 -top-12 h-[200%] mix-blend-screen",style:{background:"linear-gradient(140deg, rgba(244,114,182,0.18), rgba(192,132,252,0.18))",filter:"blur(72px)"},initial:!1,animate:l?{x:0}:{x:[-20,20,-20]},transition:{...s,duration:24}})]})})}const E=[{id:"üå¨Ô∏è",element:"air",occurrence:0},{id:"‚ùÑÔ∏è",element:"ice",occurrence:0},{id:"üêã",element:"animal",occurrence:0},{id:"üåä",element:"water",occurrence:0},{id:"üî•",element:"fire",occurrence:0},{id:"üåô",element:"light",occurrence:0},{id:"üõ∂",element:"earth",occurrence:0},{id:"üåå",element:"aurora",occurrence:0},{id:"üßä",element:"ice",occurrence:0},{id:"üåà",element:"light",occurrence:0},{id:"üêö",element:"water",occurrence:0},{id:"ü™∂",element:"air",occurrence:0},{id:"üåû",element:"light",occurrence:0},{id:"üíß",element:"water",occurrence:0},{id:"üåø",element:"earth",occurrence:0},{id:"üçÇ",element:"earth",occurrence:0},{id:"üåë",element:"light",occurrence:0},{id:"‚òÅÔ∏è",element:"air",occurrence:0},{id:"ü¶≠",element:"animal",occurrence:0},{id:"ü™µ",element:"earth",occurrence:0},{id:"üåï",element:"light",occurrence:0},{id:"üå†",element:"light",occurrence:0},{id:"üåßÔ∏è",element:"water",occurrence:0},{id:"üéµ",element:"air",occurrence:0},{id:"üê¶",element:"air",occurrence:0},{id:"ü™û",element:"water",occurrence:0},{id:"ü™∑",element:"water",occurrence:0},{id:"üí´",element:"aurora",occurrence:0},{id:"‚≠ê",element:"light",occurrence:0},{id:"üèîÔ∏è",element:"ice",occurrence:0}],O={nodes:E};function A(){const[o,c]=d.useState(!1),[t,l]=d.useState({occurrences:[],pairs:[],triples:[]}),[s,m]=d.useState([]),b=y(),x=h();d.useEffect(()=>{N(),l(k())},[]);const g=r=>{m(a=>a.includes(r)?a.filter(p=>p!==r):a.length>=3?a:[...a,r])},j=()=>{s.length===3&&(w(s),b("/guardian"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl glass-strong border border-white/20 shadow-card p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(C,{size:32}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Explorer le Cosmoji"}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Visualisation des tendances et associations d'√©mojis"})]})]}),e.jsx("div",{className:"rounded-xl bg-white/10 border border-white/20 p-4",children:e.jsxs("p",{className:"text-slate-200 text-sm leading-relaxed",children:["üí° ",e.jsx("strong",{children:"Mode exploration :"})," Cette page vous permet de visualiser les connexions entre √©mojis de la communaut√©. Vous pouvez aussi s√©lectionner 3 √©mojis pour rencontrer directement un gardien."]})})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(M,{selected:s,maxSelection:3,onClear:()=>m([])})}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative rounded-2xl bg-white text-slate-900 shadow-lg p-6",children:[e.jsx(T,{active:s.length===3}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-1",children:"R√©seau d'associations"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Taille du cercle = popularit√© ‚Ä¢ √âpaisseur des liens = co-occurrences"})]}),e.jsx("button",{onClick:()=>c(!0),className:"rounded-xl bg-slate-900 text-white px-4 py-2 hover:bg-slate-800 transition-colors duration-200",children:"Panth√©on"})]}),e.jsx("div",{className:"mb-4 flex flex-wrap gap-2 text-xs",children:[{element:"air",color:"#22d3ee",label:"Air"},{element:"water",color:"#60a5fa",label:"Eau"},{element:"fire",color:"#f59e0b",label:"Feu"},{element:"earth",color:"#86efac",label:"Terre"},{element:"ice",color:"#93c5fd",label:"Glace"},{element:"aurora",color:"#34d399",label:"Aurore"}].map(({element:r,color:a,label:n})=>e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-slate-100",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a}}),e.jsx("span",{className:"text-slate-700",children:n})]},r))}),e.jsx("div",{className:"rounded-xl border-2 border-slate-200 overflow-hidden mb-4",children:e.jsx(S,{stats:t,selectable:!0,selected:s,onToggle:g,maxNodes:30,maxLinks:200,glow:!0,getNodeColor:(r,a)=>{const n=O.nodes.find(f=>f.id===r);if(!n)return;const u={air:{base:"#22d3ee",dark:"#0891b2"},water:{base:"#60a5fa",dark:"#2563eb"},fire:{base:"#f59e0b",dark:"#d97706"},earth:{base:"#86efac",dark:"#16a34a"},ice:{base:"#93c5fd",dark:"#3b82f6"},aurora:{base:"#34d399",dark:"#10b981"},light:{base:"#f5d0fe",dark:"#e879f9"},animal:{base:"#fca5a5",dark:"#ef4444"}}[n.element]||{base:"#0ea5e9",dark:"#0284c7"};return{fill:a?u.base:"#0ea5e9",stroke:a?u.dark:"#0ea5e9",fillOpacity:a?.85:.12,strokeOpacity:a?1:.45}}})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[e.jsx("div",{className:"text-sm text-slate-600",children:s.length===0?e.jsx("span",{className:"text-slate-400 italic",children:"Cliquez sur 3 √©mojis pour cr√©er votre trio cosmique"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium",children:"S√©lection :"})," ",e.jsx("span",{className:"font-mono text-xl ml-2",children:s.join(" ")}),e.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",s.length,"/3)"]})]})}),e.jsx(i.button,{onClick:j,disabled:s.length!==3,whileHover:s.length===3?{scale:1.02}:{},whileTap:s.length===3?{scale:.98}:{},animate:s.length===3&&!x?{boxShadow:["0 4px 6px rgba(16, 185, 129, 0.3)","0 8px 16px rgba(16, 185, 129, 0.5)","0 4px 6px rgba(16, 185, 129, 0.3)"]}:{},transition:s.length===3&&!x?{duration:2.4,repeat:1/0,ease:"easeInOut"}:{duration:.2},className:`rounded-xl px-6 py-3 font-semibold transition-all duration-300 ${s.length===3?"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white shadow-lg":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:s.length===3?"‚úß Entrer en r√©sonance":`Choisir ${3-s.length} √©moji(s)`})]})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-2xl bg-white text-slate-900 shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"üìä"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Tendances de la communaut√©"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Les combinaisons les plus populaires"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("section",{className:"rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-200 p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"‚≠ê"})," Top √©mojis"]}),e.jsx("ul",{className:"space-y-2",children:t.occurrences.slice(0,8).map(({items:r,count:a},n)=>e.jsxs("li",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-2xl select-none",children:r[0]}),e.jsx("span",{className:"font-medium text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full text-xs",children:a})]},n))})]}),e.jsxs("section",{className:"rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-purple-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üîó"})," Top paires"]}),e.jsx("ul",{className:"space-y-2",children:t.pairs.slice(0,8).map(({items:r,count:a},n)=>e.jsxs("li",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-xl select-none",children:r.join(" ")}),e.jsx("span",{className:"font-medium text-purple-600 bg-purple-100 px-2 py-0.5 rounded-full text-xs",children:a})]},n))})]}),e.jsxs("section",{className:"rounded-xl bg-gradient-to-br from-emerald-50 to-green-50 border border-emerald-200 p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-emerald-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"‚ú®"})," Top triplets"]}),e.jsx("ul",{className:"space-y-2",children:t.triples.slice(0,8).map(({items:r,count:a},n)=>e.jsxs("li",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-lg select-none",children:r.join(" ")}),e.jsx("span",{className:"font-medium text-emerald-600 bg-emerald-100 px-2 py-0.5 rounded-full text-xs",children:a})]},n))})]})]})]}),e.jsx(v,{open:o,onClose:()=>c(!1)})]})}export{A as default};
