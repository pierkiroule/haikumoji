import{r as x,j as e,m as l,c as b,d as j,o as f,f as v,p as y,z as N}from"./index-CU2UvyjV.js";import{S as w,E as S}from"./SelectionPanel-CI1dvrOX.js";import{A as q}from"./index-D2TxTuQx.js";function z({currentStep:c=1,steps:a=[],onStepClick:s,className:u=""}){const[t,h]=x.useState(c);return e.jsxs("div",{className:`space-y-4 ${u}`,children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex items-center justify-between",children:a.map((m,p)=>{const r=p+1,d=r<c,o=r===c,i=r>c;return e.jsxs("div",{className:"flex-1 relative",children:[p>0&&e.jsx("div",{className:"absolute left-0 top-5 right-1/2 h-0.5 -translate-x-full",children:e.jsx("div",{className:`h-full transition-all duration-500 ${d||o?"bg-gradient-to-r from-emerald-500 to-emerald-400":"bg-slate-200"}`})}),e.jsxs(l.button,{onClick:()=>{h(r),s==null||s(r)},disabled:i,className:`relative z-10 flex flex-col items-center gap-2 w-full group ${i?"cursor-not-allowed":"cursor-pointer"}`,whileHover:i?{}:{scale:1.05},whileTap:i?{}:{scale:.98},children:[e.jsx(l.div,{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm shadow-lg transition-all duration-300 ${d?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white":o?"bg-gradient-to-br from-cyan-500 to-blue-500 text-white ring-4 ring-cyan-200":"bg-slate-200 text-slate-400"}`,animate:o?{boxShadow:["0 4px 6px rgba(6, 182, 212, 0.3)","0 8px 16px rgba(6, 182, 212, 0.5)","0 4px 6px rgba(6, 182, 212, 0.3)"]}:{},transition:{duration:2,repeat:1/0},children:d?"‚úì":r}),e.jsx("div",{className:`text-2xl transition-transform duration-300 ${o?"scale-110":""}`,children:m.icon}),e.jsx("div",{className:`text-xs font-medium text-center transition-colors duration-300 ${d||o?"text-slate-900":"text-slate-400"}`,children:m.title})]})]},m.id)})})}),e.jsx(q,{mode:"wait",children:e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"rounded-2xl bg-gradient-to-br from-cyan-50 to-blue-50 border-2 border-cyan-200 p-6 shadow-lg",children:a[t-1]&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-3xl",children:a[t-1].icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-cyan-600 font-medium",children:["√âtape ",t,"/",a.length]}),e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:a[t-1].title})]})]}),e.jsx("p",{className:"text-slate-700 leading-relaxed mb-4",children:a[t-1].description}),a[t-1].tips&&e.jsxs("div",{className:"rounded-xl bg-white/60 border border-cyan-200 p-4",children:[e.jsx("div",{className:"text-sm font-medium text-cyan-700 mb-2",children:"üí° Astuce"}),e.jsx("p",{className:"text-sm text-slate-600",children:a[t-1].tips})]})]})},t)})]})}function $(){const[c,a]=x.useState({occurrences:[],pairs:[],triples:[]}),[s,u]=x.useState([]),[t,h]=x.useState(null),m=b();x.useEffect(()=>{j(),a(f()),h(v())},[]);const p=i=>{t&&u(n=>n.includes(i)?n.filter(g=>g!==i):n.length>=3?n:[...n,i])},r=()=>{s.length===3&&(y(s),m("/lune"))},d=()=>{const i=N({name:"Voyageur"});h(i)},o=[{id:"select",icon:"‚ú®",title:"Choisir 3 √©mojis",description:"S√©lectionnez 3 √©mojis qui r√©sonnent avec votre √©tat onirique du moment. Ces symboles cosmiques formeront la base de votre r√™ve.",tips:"Cliquez sur les √©mojis dans le r√©seau ci-dessous. Les √©mojis s√©lectionn√©s appara√Ætront en vert brillant avec un halo lumineux."},{id:"lune",icon:"üåô",title:"Cr√©er votre ha√Øku",description:"Votre trio d'√©mojis g√©n√©rera un ha√Øku unique inspir√© par la sagesse inuite et la po√©sie onirique.",tips:"Vous pourrez reg√©n√©rer le texte autant de fois que vous le souhaitez jusqu'√† trouver celui qui vous parle."},{id:"guardian",icon:"‚úß",title:"Rencontrer le gardien",description:"Un gardien onimoji inuit (Sila, Sedna, Nanook...) vous accueillera pour un rituel d'apaisement.",tips:"Le gardien est choisi en fonction des √©mojis que vous avez s√©lectionn√©s et de la lune en cours."}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl glass-strong border border-white/20 shadow-card p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 text-8xl opacity-10",children:"üöÄ"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"inline-block px-4 py-2 rounded-full bg-gradient-to-r from-aurora-blue/20 to-aurora-cyan/20 border border-white/10 mb-3",children:e.jsx("span",{className:"text-sm font-medium text-white",children:"üåå Navette Cosmoniris"})}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Hublot Cosmoji"}),e.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-4",children:"Bienvenue √† bord ! Le voyage Inuit se d√©roule en 12 lunes. √Ä chaque lune, vous suivrez ce parcours en 3 √©tapes pour cultiver votre jardin onirique."}),!t&&e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-xl bg-gradient-to-r from-indigo-500/20 to-purple-500/20 border border-white/20 p-4",children:[e.jsx("p",{className:"text-white text-sm font-medium mb-3",children:"‚ú® Vous √™tes en visite. Pour s√©lectionner et g√©n√©rer un r√™ve, inscrivez-vous localement."}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"rounded-xl bg-gradient-to-r from-midnight-400 to-midnight-500 text-white px-5 py-2.5 font-medium hover:shadow-aurora transition-all duration-300",children:"S'inscrire localement"})]})]})]}),e.jsx(l.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(z,{currentStep:1,steps:o})}),t&&e.jsx(l.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(w,{selected:s,maxSelection:3,onClear:()=>u([])})}),e.jsxs(l.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-2xl bg-white text-slate-900 shadow-card-hover p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"R√©seau Cosmoji"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Cliquez sur 3 √©mojis. Taille = popularit√© ‚Ä¢ Liens = associations fr√©quentes"})]}),!t&&e.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 px-4 py-2 rounded-xl border border-amber-200",children:"üîí Inscription requise"})]}),e.jsx(S,{stats:c,selectable:!!t,selected:s,onToggle:p,maxNodes:30,maxLinks:200,glow:!0,getNodeColor:(i,n)=>({fill:n?"#10b981":"#0ea5e9",stroke:n?"#059669":"#0284c7",fillOpacity:n?.85:.12,strokeOpacity:n?1:.45})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-4 border-t border-slate-200",children:[e.jsx("div",{className:"text-sm text-slate-600",children:s.length===0?e.jsx("span",{className:"text-slate-400 italic",children:"Aucun √©moji s√©lectionn√©"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium",children:"Votre s√©lection :"})," ",e.jsx("span",{className:"font-mono text-2xl ml-2",children:s.join(" ")}),e.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",s.length,"/3)"]})]})}),e.jsx(l.button,{whileHover:t&&s.length===3?{scale:1.02}:{},whileTap:t&&s.length===3?{scale:.98}:{},onClick:r,disabled:!t||s.length!==3,animate:t&&s.length===3?{boxShadow:["0 4px 6px rgba(6, 182, 212, 0.3)","0 8px 16px rgba(6, 182, 212, 0.5)","0 4px 6px rgba(6, 182, 212, 0.3)"]}:{},transition:{duration:2,repeat:1/0},className:`rounded-xl px-6 py-3 font-semibold transition-all duration-300 ${t&&s.length===3?"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white shadow-lg":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:s.length===3?"‚ú® Valider et continuer":`S√©lectionnez ${3-s.length} √©moji(s)`})]})]})]})}export{$ as default};
